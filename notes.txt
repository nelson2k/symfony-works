Click buy / confirm - (handled by StockTransactionController)



Create appropriate records / account deductions / account additions



Send purchase confirmation notification email with attached contract note



Display success / confirmation page to the user


######## Instructions that Symfony gave after the bellow composer require was run #################
composer require messenger <--- installed
###################################################################################################

Symfony operations: 1 recipe (6b6b55d0d520a9228382fc86011e30a7)
  - Configuring symfony/messenger (>=6.0): From github.com/symfony/recipes:main
Executing script cache:clear [OK]
Executing script assets:install public [OK]

 What's next? 


Some files have been created and/or updated to configure your new packages.
Please review, edit and commit them: these files are yours.

 symfony/messenger  instructions:

  * You're ready to use the Messenger component. You can define your own message buses
    or start using the default one right now by injecting the message_bus service
    or type-hinting Symfony\Component\Messenger\MessageBusInterface in your code.

  * To send messages to a transport and handle them asynchronously:

    1. Uncomment the MESSENGER_TRANSPORT_DSN env var in .env
       and framework.messenger.transports.async in config/packages/messenger.yaml;
    2. Route your message classes to the async transport in config/packages/messenger.yaml.

  * Read the documentation at https://symfony.com/doc/current/messenger.html